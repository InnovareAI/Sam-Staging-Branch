(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{1567:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),n=t(2115),l=t(8760);function i(){let e=(0,l.createClientComponentClient)(),[s,t]=(0,n.useState)(null),[i,r]=(0,n.useState)(!0),[c,o]=(0,n.useState)({email:"",firstName:"",lastName:"",company:"InnovareAI",role:"member",workspaceId:""}),[d,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{let{data:{user:s}}=await e.auth.getUser();t(s),r(!1)})()},[]);let g=async t=>{if(t.preventDefault(),s){m(!0),x("");try{var a;let s=await fetch("/api/admin/invite-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==(a=(await e.auth.getSession()).data.session)?void 0:a.access_token)},body:JSON.stringify(c)}),t=await s.json();s.ok?(x("✅ Invitation sent successfully to ".concat(c.email,"!")),o({email:"",firstName:"",lastName:"",company:"InnovareAI",role:"member",workspaceId:""})):x("❌ Failed to send invitation: ".concat(t.error))}catch(e){x("❌ Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{m(!1)}}};return i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white",children:"Loading..."})}):s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 py-12",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-6",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-6",children:"Test User Invitation"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"First Name"}),(0,a.jsx)("input",{type:"text",value:c.firstName,onChange:e=>o({...c,firstName:e.target.value}),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Last Name"}),(0,a.jsx)("input",{type:"text",value:c.lastName,onChange:e=>o({...c,lastName:e.target.value}),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:c.email,onChange:e=>o({...c,email:e.target.value}),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Company"}),(0,a.jsxs)("select",{value:c.company,onChange:e=>o({...c,company:e.target.value}),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"InnovareAI",children:"InnovareAI"}),(0,a.jsx)("option",{value:"3cubedai",children:"3CubedAI"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Role"}),(0,a.jsxs)("select",{value:c.role,onChange:e=>o({...c,role:e.target.value}),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"member",children:"Member"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"owner",children:"Owner"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Workspace ID (Optional)"}),(0,a.jsx)("input",{type:"text",value:c.workspaceId,onChange:e=>o({...c,workspaceId:e.target.value}),placeholder:"Leave empty for general invitation",className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("button",{type:"submit",disabled:d,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-8 py-3 rounded-lg font-medium transition-colors",children:d?"Sending Invitation...":"Send Invitation"}),(0,a.jsx)("a",{href:"/",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"← Back to App"})]})]}),u&&(0,a.jsx)("div",{className:"mt-6 p-4 rounded-lg ".concat(u.includes("✅")?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:u}),(0,a.jsxs)("div",{className:"mt-8 text-gray-400 text-sm",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"User Info:"}),(0,a.jsxs)("p",{children:["Email: ",s.email]}),(0,a.jsxs)("p",{children:["User ID: ",s.id]})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("h1",{className:"text-2xl mb-4",children:"Authentication Required"}),(0,a.jsx)("p",{children:"Please sign in to access this page."})]})})}},9870:(e,s,t)=>{Promise.resolve().then(t.bind(t,1567))}},e=>{e.O(0,[5040,8760,8441,1255,7358],()=>e(e.s=9870)),_N_E=e.O()}]);