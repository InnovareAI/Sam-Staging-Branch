(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{46092:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(95155),a=r(12115);function l(){let[e,s]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[n,i]=(0,a.useState)(!1),[d,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.search),s=e.get("email"),r=e.get("recovery");s&&"true"===r?(p(s),x(!0)):(x(!1),u("Invalid reset link - please request a new password reset"))},[]);let g=async s=>{if(s.preventDefault(),e!==r)return void u("Passwords do not match");if(e.length<6)return void u("Password must be at least 6 characters long");i(!0),u(""),o("");try{let s=await fetch("/api/auth/reset-password-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:e})}),r=await s.json();s.ok?(o("Password updated successfully! Redirecting to sign in..."),u(""),setTimeout(()=>{window.location.href="/api/auth/signin"},2e3)):u(r.error||"Failed to update password")}catch(e){u("An unexpected error occurred")}finally{i(!1)}};return!1===m?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-800 rounded-lg shadow-xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/SAM.jpg",alt:"SAM AI",className:"w-16 h-16 rounded-full object-cover mx-auto mb-4",style:{objectPosition:"center 30%"}}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Invalid Reset Link"}),(0,t.jsx)("p",{className:"text-gray-400",children:"This password reset link is invalid or has expired"})]}),(0,t.jsx)("div",{className:"p-4 bg-red-600 text-white rounded-lg mb-6",children:c}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("a",{href:"/api/auth/reset-password",className:"text-purple-400 hover:text-purple-300",children:"Request a new password reset"}),(0,t.jsx)("br",{}),(0,t.jsx)("a",{href:"/api/auth/signin",className:"text-gray-400 hover:text-gray-300 text-sm mt-2 inline-block",children:"Back to sign in"})]})]})}):null===m?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-md w-full mx-auto bg-gray-800 rounded-lg shadow-xl p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-400 mt-4",children:"Validating reset link..."})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full mx-auto bg-gray-800 rounded-lg shadow-xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/SAM.jpg",alt:"SAM AI",className:"w-16 h-16 rounded-full object-cover mx-auto mb-4",style:{objectPosition:"center 30%"}}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Reset Your Password"}),(0,t.jsxs)("p",{className:"text-gray-400",children:["Enter your new password for ",h]})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),(0,t.jsx)("input",{type:"password",id:"password",value:e,onChange:e=>s(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password (min 6 characters)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",value:r,onChange:e=>l(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password"})]}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:n?"Updating...":"Update Password"})]}),c&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-red-600 text-white rounded-lg",children:c}),d&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-green-600 text-white rounded-lg",children:d}),(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["Remember your password?",(0,t.jsx)("a",{href:"/api/auth/signin",className:"text-purple-400 hover:text-purple-300 ml-1",children:"Sign in"})]})})]})})}},54361:(e,s,r)=>{Promise.resolve().then(r.bind(r,46092))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=54361)),_N_E=e.O()}]);